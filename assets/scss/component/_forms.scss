// Formulaires
//==|====================
@use 'sass:math';
// Labels
label,
.form-label {
	margin-bottom: rem($form-label-margin-bottom);
}

// Forms control
.form-control {
	display: block;
	width: 100%;
	padding: $input-padding-y $input-padding-x;
	font-family: $input-font-family;
	font-size: $input-font-size;
	font-weight: $input-font-weight;
	line-height: $input-line-height;
	color: $input-color;
	background-color: $input-bg;
	background-clip: padding-box;
	border: $input-border-width solid $input-border-color;
	appearance: none;

	@include border-radius($input-border-radius);
	@include transition($input-transition);

	&[type="file"] {
		overflow: hidden; // prevent pseudo element button overlap

		&:not(:disabled):not([readonly]) {
			cursor: pointer;
		}
	}

	&:focus {
		color: $input-focus-color;
		background-color: $input-focus-bg;
		border-color: $input-focus-border-color;
		outline: 0;
		//box-shadow: 0 0 0 rem(4) rgba($component-active-bg, .25);
	}

	&::-webkit-date-and-time-value {
		height: if(unit($input-line-height) == "", $input-line-height * 1em, $input-line-height);
	}

	// Placeholder
	&::placeholder {
		color: $input-placeholder-color;
		opacity: 1;
	}

	// Désactivée
	&:disabled,
	&[readonly] {
		background-color: $input-disabled-bg;
		border-color: $input-disabled-border-color;
		opacity: 1;
	}
}

textarea {
	&.form-control {
		min-height: $input-height;
	}
}

// Select
.form-select {
	display: block;
	width: 100%;
	padding: $form-select-padding-y $form-select-indicator-padding $form-select-padding-y $form-select-padding-x;
	-moz-padding-start: subtract($form-select-padding-x, 3px);
	font-family: $form-select-font-family;
	font-size: $form-select-font-size;
	font-weight: $form-select-font-weight;
	line-height: $form-select-line-height;
	color: $form-select-color;
	background-color: $form-select-bg;
	background-image: escape-svg($form-select-indicator);
	background-repeat: no-repeat;
	background-position: $form-select-bg-position;
	background-size: $form-select-bg-size;
	border: $form-select-border-width solid $form-select-border-color;

	@include border-radius($form-select-border-radius);
	@include transition($form-select-transition);

	appearance: none;

	&:focus {
		border-color: $form-select-focus-border-color;
		outline: 0;
		//box-shadow: 0 0 0 rem(4) rgba($component-active-bg, .25);
	}

	&[multiple],
	&[size]:not([size="1"]) {
		padding-right: $form-select-padding-x;
		background-image: none;
	}

	&:disabled {
		color: $form-select-disabled-color;
		background-color: $form-select-disabled-bg;
		border-color: $form-select-disabled-border-color;
	}

	&:-moz-focusring {
		color: transparent;
		text-shadow: 0 0 0 $form-select-color;
	}
}

// Form Check
.form-check {
	display: block;
	min-height: rem($form-check-min-height);
	padding-left: $form-check-padding-start;
	margin-bottom: $form-check-margin-bottom;

	.form-check-input {
		float: left;
		margin-left: $form-check-padding-start * -1;
	}
}

.form-check-input {
	width: $form-check-input-width;
	height: $form-check-input-width;
	margin-top: ($line-height-base - $form-check-input-width) * .5;
	vertical-align: top;
	background-color: $form-check-input-bg;
	background-repeat: no-repeat;
	background-position: center;
	background-size: contain;
	border: $form-check-input-border;
	appearance: none;
	color-adjust: exact;

	&[type="checkbox"] {
		@include border-radius($form-check-input-border-radius);
	}

	&[type="radio"] {
		border-radius: $form-check-radio-border-radius;
	}

	&:active {
		filter: $form-check-input-active-filter;
	}

	&:focus {
		border-color: $form-check-input-focus-border;
		outline: 0;
		box-shadow: $form-check-input-focus-box-shadow;
	}

	&:checked {
		background-color: $form-check-input-checked-bg-color;
		border-color: $form-check-input-checked-border-color;

		&[type="checkbox"] {
			background-image: escape-svg($form-check-input-checked-bg-image);
		}

		&[type="radio"] {
			background-image: escape-svg($form-check-radio-checked-bg-image);
		}
	}

	&[type="checkbox"]:indeterminate {
		background-color: $form-check-input-indeterminate-bg-color;
		border-color: $form-check-input-indeterminate-border-color;
	}

	&:disabled {
		pointer-events: none;
		filter: none;
		opacity: .5;
	}

	&[disabled],
	&:disabled {
		~ .form-check-label {
			opacity: .5;
		}
	}
}

.form-check-label {
	color: null;
	cursor: null;
}

@each $state, $data in $form-validation-states {
	@include form-validation-state($state, $data...);
}
